"use strict";var mezocliq=mezocliq||{};mezocliq=function(){String.prototype.inMS=function(){return"ms"===this.slice(-2,this.length)?parseFloat(this):"s"===this.slice(-1,this.length)?1e3*parseFloat(this):0};var e,t,n,o,i,r,s,a=!0,c=function(e){w()?document.location=e.target.location.pathname:a?L(document.location,!1):history.pushState({url:g},y,g)},l=function(){var e,t=document.querySelectorAll("section nav a"),n=new Image;for(p("section nav p"),v(),O(),d(),n.src="/img/bg.jpg",e=0;e<t.length;e++)t[e].addEventListener("mouseenter",A);ga("send","pageview")},d=function(){var e=document.querySelector("header"),t=document.createElement("div"),n=document.querySelector("section nav").cloneNode(!0),o=n.querySelectorAll("a"),i=function(){var e=document.querySelector(".icon");e.classList.contains("selected")?e.classList.remove("selected"):e.classList.add("selected")};for(t.className="icon",e.appendChild(t),e.appendChild(n),s=0;s<o.length;s++)o[s].parentNode.classList.contains("selected")&&o[s].parentNode.removeAttribute("class"),-1!==o[s].href.indexOf(g)&&o[s].parentNode.classList.add("selected");t.addEventListener("click",i),p("header nav p")},u=function(){var n=document.querySelector("section nav");n.classList.remove("slow"),clearInterval(t),clearTimeout(e)},m=function(){p("footer a")},h=function(){var n,o=document.querySelectorAll("section nav a"),i=function(){u(),e=setTimeout(function(){var e=document.querySelector("section nav"),o=document.querySelectorAll("section nav a");e.classList.add("slow"),t=setInterval(function(){var e;for(n=0;n<o.length;n++)o[n].parentNode.classList.contains("selected")&&(e=n);o[e].parentNode.classList.remove("selected"),e>=o.length-1?o[0].parentNode.classList.add("selected"):o[e+1].parentNode.classList.add("selected")},3500)},500)};for(n=0;n<o.length;n++)o[n].addEventListener("mouseout",i),o[n].addEventListener("mouseover",u),o[n].addEventListener("click",function(){var e=document.querySelectorAll("section nav a");for(n=0;n<e.length;n++)e[n].removeEventListener("mouseout",i),e[n].removeEventListener("mouseover",u)});o[0].parentNode.classList.add("selected"),i()},f=[],p=function(e){var t,n=document.querySelectorAll(e),o=n[0].parentNode,i=function(i){for(clearTimeout(f[e]),o.classList.remove("slow"),t=0;t<n.length;t++)n[t].classList.remove("selected");i.currentTarget.classList.add("selected")},r=function(i){var r=document.querySelector("main");(!r.classList.contains("home")||r.classList.contains("seen"))&&(clearTimeout(f[e]),f[e]=setTimeout(function(){for(o.classList.add("slow"),setTimeout(function(){o.classList.remove("slow")},800),t=0;t<n.length;t++)n[t].classList.remove("selected"),n[t].classList.contains("current")&&n[t].classList.add("selected")},800))};for(t=0;t<n.length;t++)n[t].addEventListener("mouseenter",i),n[t].addEventListener("mouseleave",r)},v=function(){var e,t=document.querySelectorAll("a");for(e=0;e<t.length;e++)t[e].addEventListener("click",function(e){var t=this.getAttribute("href");w()||e.currentTarget.host===location.host&&(e.preventDefault(),L(t))})},g=document.location.pathname,y=document.title,L=function(e,t){var n,o,i,r,s,a=new XMLHttpRequest,c=document.querySelector("main"),d=(document.querySelector('a[title="Login"]'),document.querySelector("div.right"),function(){Number.prototype.inVW=function(){return this/window.innerWidth*100};var i,r=c.querySelectorAll("a");if(4===a.readyState)if(200===a.status){for(n=this.responseXML.querySelector("main"),s?(n.classList.add("hidden"),o=document.querySelector("main.animating"),""!==c.style.width&&(o.style.width=c.style.width),o.parentNode.insertBefore(n,o),k()):(c.parentNode.insertBefore(n,c),k(),""!==c.style.width&&(n.style.width=c.style.width),c.classList.add("hiding"),setTimeout(function(){null!==c.querySelector("main")&&W(c),c.parentNode.removeChild(c),x()},C/2)),function(){var e=document.querySelector("main").classList.item(0);"function"==typeof mezocliq[e]&&mezocliq[e]()}(),"/"===g&&u(),i=0;i<r.length;i++)r[i].removeAttribute("href"),r[i].classList.add("disabled");t!==!1&&history.pushState({url:e},this.responseXML.title,e),g=e,document.title=this.responseXML.title,l()}else console.error(a.statusText)});"string"!=typeof e&&(e=e.pathname),e!==g&&(i=e.split("/"),r=g.split("/"),""===i[1]&&"seen"===r[1]?s=!1:""===r[1]&&"seen"===i[1]?s=!1:i.length<=3&&i[1]!==r[1]?s=!0:i[1]!==r[1]&&(s=!0),s&&b(q(e)),a.addEventListener("load",d),a.open("GET",e),a.responseType="document",a.send())},E=document.querySelector("main"),S=function(e){var t,n,o,r=[40,27];for(i=document.createElement("div"),o=1;o<=r[1];o++)for(n=1;n<=r[0];n++)t=document.createElement("div"),t.className="r"+o+" c"+n+" x"+n+"-y"+o,i.appendChild(t);i.className="grid",e.appendChild(i)},w=function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)<1280},k=function(){var e=document.querySelector("main:not(.animating)");w()||(n=window.innerWidth-document.body.clientWidth,n>0?(e.removeAttribute("style"),e.style.width=window.innerWidth+"px"):e.removeAttribute("style")),T()},T=function(){var e=document.querySelector(".left p:last-of-type");null!==e&&(e.offsetTop+e.offsetHeight>document.body.clientHeight?e.classList.add("trim"):e.classList.remove("trim"))},C=window.getComputedStyle(E).transitionDuration.inMS(),q=function(e){var t;return"/"===e||"/seen/"===e?t=0:"/genesis/"===e?t=1:"/solution/"===e?t=2:"/coordinates/"===e?t=3:0===e.indexOf("/solution/")?t=4:0===e.indexOf("/coordinates/")&&(t=5),t},b=function(e){var t,n,c=C/3,l=window.navigator.userAgent,d=-1!==l.indexOf("Firefox");a=!1,4===o&&3===e?(t=3,N("img/slide-4","/img/slide-5"),N("img/slide-3","/img/slide-4")):4===e||5===e?(t=1,N("img/slide-1","/img/slide-"+(o+1)),N("img/slide-2","/img/slide-"+(e+1))):e===o+1?t=e:e===o-1?t=e+1:e>o+1?(t=e,N("img/slide-"+e,"/img/slide-"+(o+1))):o-1>e&&(t=e+1,N("img/slide-"+(e+2),"/img/slide-"+(o+1))),n=document.createElement("main"),n.classList.add("animating"),E=document.querySelector("main"),E.parentNode.insertBefore(n,E),S(n),i.classList.add("a"+t),o>e&&(i.classList.add("p1"),i.classList.add("p2"),i.style.transitionDuration="0s",i.removeAttribute("style"),i.offsetWidth),E.classList.add("hiding"),setTimeout(function(){null!==E.querySelector("main")&&W(E),E.parentNode.removeChild(E)},C/2),setTimeout(function(){d||n.classList.add("zoom"),e>o?(i.offsetWidth,i.classList.add("p1")):o>e&&i.classList.remove("p2"),clearTimeout(r),r=setTimeout(function(){d||n.classList.remove("zoom"),e>o?i.classList.add("p2"):o>e&&i.classList.remove("p1"),setTimeout(function(e){return function(){var e=document.querySelector("main.hidden"),t=e.classList.item(0);i.offsetWidth,k(),""!==E.style.width&&(n.style.width=E.style.width),e.classList.remove("hidden"),n.classList.add("hiding"),setTimeout(function(){var e=document.head.querySelectorAll("#transition");for(s=0;s<e.length;s++)e[s].parentNode.removeChild(e[s]);n.parentNode.removeChild(n),a=!0,"function"==typeof mezocliq[t]&&mezocliq[t]()},C/2),x()}}(e),C)},C)},c)},N=function(e,t){var n,o,i,r=document.styleSheets,s=[],a=document.createElement("style");for(var c in r){n=r[c].cssRules;for(var l in n)if("undefined"!=typeof n[l].cssText){o=n[l].style;for(var d in o)""!==o[d]&&"undefined"!=typeof o.backgroundImage&&""!==o.backgroundImage&&-1!==o.backgroundImage.indexOf(e)&&s.push(n[l].selectorText+" { background-image: "+o.backgroundImage.replace(e,t)+"; }")}}i=s.join("\n"),a.id="transition",a.appendChild(document.createTextNode("")),a.appendChild(document.createTextNode(i)),document.head.appendChild(a)},x=function(){var e=new Image;o=q(g),w()||(e.src="/img/slide-"+(o+1)+".jpg")},A=function(e){var t=e.currentTarget.pathname,n=q(t),o=new Image;w()||(o.src="/img/slide-"+(n+1)+".jpg")},M=[],O=function(){var e,t=document.querySelector("main").querySelector("video"),n=/iP(ad|hone|od)/.test(navigator.userAgent)&&!window.MSStream;null!==t&&(n?t.setAttribute("controls",""):(e=M.length,M[e]=videojs(t,{controls:!0,autoplay:!1}),t.addEventListener("ended",function(){M[e].exitFullscreen().reset().initChildren()}),t.parentNode.addEventListener("click",function(){ga("send","event","Video","play",M[e].currentSrc())})))},W=function(e){var t,n=e.querySelector("video"),o=document.querySelector("main").querySelector("video");null!==n&&(t=null===o?M.length-1:M.length-2,M[t].dispose())};return document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("main").classList.item(0);window.addEventListener("popstate",c),window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-89055800-1","auto"),l(),"function"==typeof mezocliq[e]&&mezocliq[e](),x(),FastClick.attach(document.body),window.addEventListener("resize",k),window.onload=function(){k()}}),{home:h,seen:m}}(),function(){function e(t,o){function i(e,t){return function(){return e.apply(t,arguments)}}var r;if(o=o||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=o.touchBoundary||10,this.layer=t,this.tapDelay=o.tapDelay||200,this.tapTimeout=o.tapTimeout||700,!e.notNeeded(t)){for(var s=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,c=0,l=s.length;l>c;c++)a[s[c]]=i(a[s[c]],a);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,o){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,o):i.call(t,e,n,o)},t.addEventListener=function(e,n,o){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),o):i.call(t,e,n,o)}),"function"==typeof t.onclick&&(r=t.onclick,t.addEventListener("click",function(e){r(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,o=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,i=o&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=o&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(o&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,o;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),o=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;o&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,r;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],o){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!i){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},e.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,s,a,c,l,d=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(l=e.changedTouches[0],d=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||d,d.fastClickScrollParent=this.targetElement.fastClickScrollParent),a=d.tagName.toLowerCase(),"label"===a){if(t=this.findControl(d)){if(this.focus(d),n)return!1;d=t}}else if(this.needsFocus(d))return e.timeStamp-s>100||o&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(d),this.sendClick(d,e),o&&"select"===a||(this.targetElement=null,e.preventDefault()),!1);return o&&!i&&(c=d.fastClickScrollParent,c&&c.fastClickLastScrollTop!==c.scrollTop)?!0:(this.needsClick(d)||(e.preventDefault(),this.sendClick(d,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,o,i,r;if("undefined"==typeof window.ontouchstart)return!0;if(o=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(o>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction?!0:!1)},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}();